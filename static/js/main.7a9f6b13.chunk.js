(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{143:function(e,t,a){},145:function(e,t,a){},154:function(e,t){},156:function(e,t){},170:function(e,t){},172:function(e,t){},200:function(e,t){},202:function(e,t){},203:function(e,t){},208:function(e,t){},210:function(e,t){},229:function(e,t){},241:function(e,t){},244:function(e,t){},261:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),c=a(134),r=a.n(c),o=(a(143),a(10)),l=a(75),i=a(5),u=a.n(i),j=a(74),d=a(12),p=(a(145),a(29)),m=a(1),b=function(e){var t=e.layt,a=e.layout,n=e.darkMode,s=e.setDarkMode,c=e.history,r=e.dp,o=e.handleProfile;return Object(m.jsxs)("header",{className:"header",children:[Object(m.jsx)("img",{src:"https://www.gstatic.com/images/branding/product/1x/keep_2020q4_48dp.png"}),Object(m.jsx)("p",{className:"KC",children:"Keep clone"}),Object(m.jsx)("div",{className:"layoutBtn",onClick:o,children:"false"!==r?Object(m.jsx)("img",{className:"dp",alt:"dp",src:"data:image/jpeg;base64,".concat(r)}):Object(m.jsx)("div",{className:"dp"})}),Object(m.jsx)("div",{className:"layoutBtn",onClick:function(){return t()},children:a?Object(m.jsx)(p.b,{}):Object(m.jsx)(p.a,{})}),Object(m.jsx)("div",{className:"layoutBtn",onClick:function(){return s(!n)},children:n?Object(m.jsx)(p.d,{}):Object(m.jsx)(p.e,{})}),Object(m.jsx)("div",{className:"layoutBtn",onClick:function(){localStorage.removeItem("token"),c.push("/login")},children:Object(m.jsx)(p.c,{})})]})},h=a(6),x=Object(n.createContext)(),f=(a(50),function(e){var t=e.user,a=e.handleProfile,n=e.setUser,c=s.a.useState("false"),r=Object(o.a)(c,2),l=r[0],i=r[1],j=Object(h.e)(),p=s.a.useContext(x).setLoading,b=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=t.target.files[0])&&a.size<2e6?((n=new FileReader).onload=function(e){var t=btoa(e.target.result);i(t)},n.readAsBinaryString(a)):alert("please choose file of size less than 2MB!");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(u.a.mark((function e(s){var c,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),p(!0),c=s.target.name.value,""===(r=s.target.password.value)&&(r=!1),e.next=7,fetch("".concat("https://keep-clone41.herokuapp.com/api/update"),{method:"PUT",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")},body:JSON.stringify({name:c,password:r,dp:l})});case 7:o=e.sent,p(!1),200===o.status?(alert("yay! successfully updated!"),n([c,t[1],l]),a(),r&&(localStorage.removeItem("token"),j.replace("/login"))):alert("Something went wrong");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.useEffect((function(){i(t[2])}),[]),Object(m.jsxs)("div",{className:"login-container",children:[Object(m.jsxs)("h3",{className:"start",children:["Here's your profile ",Object(m.jsx)("span",{className:"high",children:"\u2570(*\xb0\u25bd\xb0*)\u256f"})," "]}),Object(m.jsxs)("form",{onSubmit:f,children:[Object(m.jsxs)("label",{children:[Object(m.jsxs)("div",{className:"avatar",children:["false"!==l&&Object(m.jsx)("img",{className:"dp",alt:"dp",src:"data:image/jpeg;base64,".concat(l)}),Object(m.jsx)("span",{className:"upload"})]}),Object(m.jsx)("input",{type:"file",name:"dp",accept:".jpeg, .jpg,.png",onChange:b})]}),Object(m.jsxs)("div",{className:"inp-content",children:[Object(m.jsx)("label",{htmlFor:"name",className:"label",children:"Your name"}),Object(m.jsx)("input",{type:"text",name:"name",placeholder:" ",defaultValue:t[0],minLength:"3",required:!0}),Object(m.jsx)("hr",{className:"border-bottom"}),Object(m.jsx)("span",{className:"placeholder",children:"name"})]}),Object(m.jsxs)("div",{className:"inp-content",children:[Object(m.jsx)("label",{htmlFor:"email",className:"label",children:"Your email"}),Object(m.jsx)("input",{type:"email",name:"email",defaultValue:t[1],disabled:!0,required:!0}),Object(m.jsx)("hr",{className:"border-bottom"}),Object(m.jsx)("span",{className:"placeholder",children:"email"})]}),Object(m.jsxs)("div",{className:"inp-content",children:[Object(m.jsx)("label",{htmlFor:"password",className:"label",children:"Changing password will log you out!"}),Object(m.jsx)("input",{type:"password",name:"password",placeholder:" ",minLength:"6"}),Object(m.jsx)("hr",{className:"border-bottom"}),Object(m.jsx)("span",{className:"placeholder",children:"password"})]}),Object(m.jsx)("center",{children:Object(m.jsx)("input",{type:"submit",value:"Update",className:"form-button"})}),Object(m.jsx)("div",{className:"link",onClick:a,children:"Click here to go back!"})]})]})}),O=function(e,t){var a=s.a.useState((function(){var a=window.localStorage.getItem(t);return null!==a?JSON.parse(a):e})),n=Object(o.a)(a,2),c=n[0],r=n[1];return s.a.useEffect((function(){window.localStorage.setItem(t,JSON.stringify(c))}),[t,c]),[c,r]},g=a(137),v=a.n(g),N=(a(261),a(138)),k=function(){var e=s.a.useState(""),t=Object(o.a)(e,2),a=t[0],n=t[1],c=s.a.useState([]),r=Object(o.a)(c,2),i=r[0],p=r[1],g=s.a.useState(!1),k=Object(o.a)(g,2),y=k[0],w=k[1],S=O(!0,"layout"),C=Object(o.a)(S,2),I=C[0],L=C[1],P=O(!1,"dark-mode"),T=Object(o.a)(P,2),F=T[0],B=T[1],E=s.a.useState(["false","false","false"]),J=Object(o.a)(E,2),q=J[0],M=J[1],D=s.a.useState(!1),_=Object(o.a)(D,2),U=_[0],z=_[1],R=Object(h.e)(),A=s.a.useContext(x).setLoading,K=function(){return z((function(e){return!e}))},V=function(){var e=Object(d.a)(u.a.mark((function e(){var t,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==a){e.next=19;break}return t={value:a},A(!0),e.next=5,fetch("".concat("https://keep-clone41.herokuapp.com/api/notes"),{method:"POST",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")},body:JSON.stringify(t)});case 5:if(s=e.sent,A(!1),200!==s.status){e.next=16;break}return e.next=10,s.json();case 10:t=e.sent,p([].concat(Object(j.a)(i),[t])),n(""),w(!1),e.next=17;break;case 16:alert("something went wrong, try again!");case 17:e.next=20;break;case 19:w(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,fetch("".concat("https://keep-clone41.herokuapp.com/api","/notes?id=").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")}});case 3:a=e.sent,A(!1),200===a.status?p(i.filter((function(e){return e._id!=t}))):alert("something went wrong");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.findIndex((function(e){return e._id===t})),n=Object(j.a)(i),s=n[a].isCompleted,e.next=5,fetch("".concat("https://keep-clone41.herokuapp.com/api","/notes?id=").concat(t,"&isCompleted=").concat(!s),{method:"PUT",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")},body:JSON.stringify({value:n[a].value})});case 5:200===e.sent.status?(n[a]=Object(l.a)(Object(l.a)({},n[a]),{},{isCompleted:!s}),p(n)):alert("something went wrong");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.useEffect((function(){A(!0);var e=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://keep-clone41.herokuapp.com/api/notes"),{method:"GET",headers:{"Content-Type":"application/json","x-access-token":t}});case 2:if(a=e.sent,A(!1),200!==a.status){e.next=12;break}return e.next=7,a.json();case 7:a=e.sent,p(a[0]),M([a[1],a[2],a[3]]),e.next=13;break;case 12:401===a.status&&(localStorage.removeItem("token"),alert("relogin again"),R.replace("/login"));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=localStorage.getItem("token");t?v.a.decode(t)?e(t):(localStorage.removeItem("token"),A(!1),R.replace("/login")):(A(!1),R.replace("/login"))}),[]),Object(m.jsxs)("div",{className:"main ".concat(F&&"darkMode"),children:[Object(m.jsx)(b,{layt:function(){L((function(e){return!e}))},layout:I,darkMode:F,setDarkMode:B,history:R,dp:q[2],handleProfile:K}),U?Object(m.jsx)(f,{user:q,handleProfile:K,setUser:M}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("form",{className:"addNote",children:Object(m.jsx)("textarea",{rows:y?3:1,value:a,onClick:function(){return w(!0)},onChange:function(e){return n(e.target.value)},onBlur:V,placeholder:"Take your note..."})}),i!=[]?Object(m.jsx)("ul",{className:"container ".concat(!I&&"f"),children:i.map((function(e){return Object(m.jsx)("li",{className:"noteholder ".concat(!I&&"f"),children:Object(m.jsxs)("div",{className:"note-text ".concat(!I&&"f"),children:[Object(m.jsx)("span",{className:e.isCompleted&&"cross",children:e.value}),Object(m.jsxs)("span",{className:"tools",children:[Object(m.jsx)("span",{className:"date",children:"".concat(new Date(e.date).toLocaleString())}),Object(m.jsx)("button",{className:"btn",onClick:function(){return Y(e._id)},children:Object(m.jsx)(N.a,{})}),Object(m.jsx)("input",{className:"btn",type:"checkbox",id:"completed",checked:e.isCompleted,onChange:function(){return G(e._id)}})]})]})},e._id)}))}):null]})]})},y=a(21),w=function(){var e=Object(h.e)(),t=s.a.useContext(x).setLoading,a=function(){var a=Object(d.a)(u.a.mark((function a(n){var s,c,r,o;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),t(!0),s=n.target.email.value,c=n.target.password.value,a.next=6,fetch("".concat("https://keep-clone41.herokuapp.com/api/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:c})});case 6:if(200!==(r=a.sent).status){a.next=15;break}return a.next=10,r.json();case 10:o=a.sent,localStorage.setItem("token",o.user),e.push("/"),a.next=17;break;case 15:t(!1),alert("wrong username or password");case 17:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return s.a.useEffect((function(){localStorage.getItem("token")&&e.replace("/")}),[]),Object(m.jsxs)("div",{className:"login-container",children:[Object(m.jsxs)("h3",{className:"start",children:["Let's set go ",Object(m.jsx)("span",{className:"high",children:"\u2570(*\xb0\u25bd\xb0*)\u256f"})," "]}),Object(m.jsx)("div",{className:"avatar"}),Object(m.jsxs)("form",{onSubmit:a,children:[Object(m.jsxs)("div",{className:"inp-content",children:[Object(m.jsx)("label",{htmlFor:"email",className:"label",children:"Please enter your email"}),Object(m.jsx)("input",{type:"email",name:"email",placeholder:" ",required:!0}),Object(m.jsx)("hr",{className:"border-bottom"}),Object(m.jsx)("span",{className:"placeholder",children:"email"})]}),Object(m.jsxs)("div",{className:"inp-content",children:[Object(m.jsx)("label",{htmlFor:"password",className:"label",children:"Please enter your password"}),Object(m.jsx)("input",{type:"password",name:"password",placeholder:" ",minLength:"6",required:!0}),Object(m.jsx)("hr",{className:"border-bottom"}),Object(m.jsx)("span",{className:"placeholder",children:"password"})]}),Object(m.jsx)("center",{children:Object(m.jsx)("input",{type:"submit",value:"Login",className:"form-button"})}),Object(m.jsx)(y.b,{to:"/register",className:"link",children:"Click here to register"})]})]})},S=function(){var e=s.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(h.e)(),r=s.a.useContext(x).setLoading,l=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=t.target.files[0])&&a.size<2e6?((s=new FileReader).onload=function(e){var t=btoa(e.target.result);n(t)},s.readAsBinaryString(a)):alert("please choose file of size less than 2MB!");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,s,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r(!0),n=t.target.email.value,s=t.target.email.value,o=t.target.password.value,e.next=7,fetch("".concat("https://keep-clone41.herokuapp.com/api/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:s,password:o,dp:a})});case 7:l=e.sent,r(!1),200===l.status?c.push("/login"):alert("user already exist");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.useEffect((function(){localStorage.getItem("token")&&c.replace("/")}),[]),Object(m.jsxs)("div",{className:"login-container",children:[Object(m.jsxs)("h3",{className:"start",children:["Let's get started ",Object(m.jsx)("span",{className:"high",children:"\u2570(*\xb0\u25bd\xb0*)\u256f"})," "]}),Object(m.jsxs)("form",{onSubmit:i,children:[Object(m.jsxs)("label",{children:[Object(m.jsxs)("div",{className:"avatar",children:[a&&Object(m.jsx)("img",{className:"dp",alt:"dp",src:"data:image/jpeg;base64,".concat(a)}),Object(m.jsx)("span",{className:"upload"})]}),Object(m.jsx)("input",{type:"file",name:"dp",accept:".jpeg, .jpg,.png",onChange:l})]}),Object(m.jsxs)("div",{className:"inp-content",children:[Object(m.jsx)("label",{htmlFor:"name",className:"label",children:"Please enter your name"}),Object(m.jsx)("input",{type:"text",name:"name",placeholder:" ",minLength:"3",required:!0}),Object(m.jsx)("hr",{className:"border-bottom"}),Object(m.jsx)("span",{className:"placeholder",children:"name"})]}),Object(m.jsxs)("div",{className:"inp-content",children:[Object(m.jsx)("label",{htmlFor:"email",className:"label",children:"Please enter your email"}),Object(m.jsx)("input",{type:"email",name:"email",placeholder:" ",required:!0}),Object(m.jsx)("hr",{className:"border-bottom"}),Object(m.jsx)("span",{className:"placeholder",children:"email"})]}),Object(m.jsxs)("div",{className:"inp-content",children:[Object(m.jsx)("label",{htmlFor:"password",className:"label",children:"Please enter your password"}),Object(m.jsx)("input",{type:"password",name:"password",placeholder:" ",minLength:"6",required:!0}),Object(m.jsx)("hr",{className:"border-bottom"}),Object(m.jsx)("span",{className:"placeholder",children:"password"})]}),Object(m.jsx)("center",{children:Object(m.jsx)("input",{type:"submit",value:"Register",className:"form-button"})}),Object(m.jsx)(y.b,{to:"/login",className:"link",children:"Click here to login"})]})]})},C=(a(262),function(){return Object(m.jsx)("div",{className:"loading-container",children:Object(m.jsx)("span",{className:"loading"})})});var I=function(){var e=s.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1];return Object(m.jsxs)(x.Provider,{value:{setLoading:n},children:[a&&Object(m.jsx)(C,{}),Object(m.jsxs)(y.a,{children:[Object(m.jsx)(h.a,{path:"/login",exact:!0,component:w}),Object(m.jsx)(h.a,{path:"/register",exact:!0,component:S}),Object(m.jsx)(h.a,{path:"/",exact:!0,component:k})]})]})};r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(I,{})}),document.getElementById("root"))},50:function(e,t,a){}},[[263,1,2]]]);
//# sourceMappingURL=main.7a9f6b13.chunk.js.map