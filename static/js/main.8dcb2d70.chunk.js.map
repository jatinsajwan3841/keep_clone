{"version":3,"sources":["components/header/index.js","components/localState/index.js","components/context/index.js","components/dashboard/index.js","components/login/index.js","components/register/index.js","components/loading/index.js","App.js","index.js"],"names":["Header","layt","layout","darkMode","setDarkMode","history","className","src","onClick","localStorage","removeItem","push","useStickyState","defaultValue","key","React","useState","stickyValue","window","getItem","JSON","parse","value","setValue","useEffect","setItem","stringify","LoadContext","createContext","Dashboard","todo","settodo","todoList","settodoList","expand","setexpand","setlayout","useHistory","setLoading","useContext","handleAdd","a","details","fetch","process","method","headers","body","send","status","json","alert","handleDelete","id","res","filter","t","_id","handleCompleted","element","findIndex","elem","newtodoList","temp","isCompleted","init","token","replace","jwt","decode","prev","rows","onChange","e","target","onBlur","placeholder","map","Date","date","toLocaleString","type","checked","Login","handleSubmit","preventDefault","email","pass","password","response","user","onSubmit","htmlFor","name","required","minLength","to","Register","Loading","App","loading","Provider","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0jBAkCeA,EAxBA,SAAC,GAAsD,IAApDC,EAAmD,EAAnDA,KAAMC,EAA6C,EAA7CA,OAAQC,EAAqC,EAArCA,SAAUC,EAA2B,EAA3BA,YAAaC,EAAc,EAAdA,QACnD,OACI,yBAAQC,UAAU,SAAlB,UACI,qBAAKC,IAAI,4EACT,mBAAGD,UAAU,KAAb,wBACA,qBAAKA,UAAU,YAAYE,QAAS,kBAAMP,KAA1C,SACKC,EAAS,cAAC,IAAD,IAAsB,cAAC,IAAD,MAEpC,qBAAKI,UAAU,YAAYE,QAAS,kBAAMJ,GAAaD,IAAvD,SACKA,EAAW,cAAC,IAAD,IAAgB,cAAC,IAAD,MAEhC,qBACIG,UAAU,YACVE,QAAS,WACLC,aAAaC,WAAW,SACxBL,EAAQM,KAAK,WAJrB,SAOI,cAAC,IAAD,UCjBDC,EAVQ,SAACC,EAAcC,GAAS,IAAD,EAChBC,IAAMC,UAAS,WACrC,IAAMC,EAAcC,OAAOT,aAAaU,QAAQL,GAChD,OAAuB,OAAhBG,EAAuBG,KAAKC,MAAMJ,GAAeJ,KAHlB,mBACnCS,EADmC,KAC5BC,EAD4B,KAQ1C,OAHAR,IAAMS,WAAU,WACZN,OAAOT,aAAagB,QAAQX,EAAKM,KAAKM,UAAUJ,MACjD,CAACR,EAAKQ,IACF,CAACA,EAAOC,I,yBCRNI,EAAcC,0B,kBCwMZC,EAhMG,WAAO,IAAD,EACId,IAAMC,SAAS,IADnB,mBACbc,EADa,KACPC,EADO,OAEYhB,IAAMC,SAAS,IAF3B,mBAEbgB,EAFa,KAEHC,EAFG,OAGQlB,IAAMC,UAAS,GAHvB,mBAGbkB,EAHa,KAGLC,EAHK,OAIQvB,GAAe,EAAM,UAJ7B,mBAIbV,EAJa,KAILkC,EAJK,OAKYxB,GAAe,EAAO,aALlC,mBAKbT,EALa,KAKHC,EALG,KAMdC,EAAUgC,cACRC,EAAevB,IAAMwB,WAAWZ,GAAhCW,WAUFE,EAAS,uCAAG,8BAAAC,EAAA,yDACF,IAARX,EADU,wBAENY,EAAU,CACVpB,MAAOQ,GAEXQ,GAAW,GALD,SAMOK,MAAM,GAAD,OACfC,gDACH,CACIC,OAAQ,OACRC,QAAS,CACL,eAAgB,mBAChB,iBAAkBrC,aAAaU,QAAQ,UAE3C4B,KAAM3B,KAAKM,UAAUgB,KAdnB,UAMNM,EANM,OAiBVV,GAAW,GACS,MAAhBU,EAAKC,OAlBC,kCAmBUD,EAAKE,OAnBf,QAmBNR,EAnBM,OAoBNT,EAAY,GAAD,mBAAKD,GAAL,CAAeU,KAC1BX,EAAQ,IACRI,GAAU,GAtBJ,wBAwBNgB,MAAM,oCAxBA,gCA0BPhB,GAAU,GA1BH,4CAAH,qDA6BTiB,EAAY,uCAAG,WAAOC,GAAP,eAAAZ,EAAA,6DACjBH,GAAW,GADM,SAEDK,MAAM,GAAD,OACdC,yCADc,qBAC6BS,GAC9C,CACIR,OAAQ,SACRC,QAAS,CACL,eAAgB,mBAChB,iBAAkBrC,aAAaU,QAAQ,YARlC,OAEbmC,EAFa,OAYjBhB,GAAW,GACQ,MAAfgB,EAAIL,OACJhB,EAAYD,EAASuB,QAAO,SAACC,GAAD,OAAOA,EAAEC,KAAOJ,MAE5CF,MAAM,wBAhBO,2CAAH,sDAoBZO,EAAe,uCAAG,WAAOL,GAAP,mBAAAZ,EAAA,6DACdkB,EAAU3B,EAAS4B,WAAU,SAACC,GAAD,OAAUA,EAAKJ,MAAQJ,KACpDS,EAFc,YAEI9B,GACpB+B,EAAOD,EAAYH,GAASK,YAHZ,SAIJrB,MAAM,GAAD,OAEbC,yCAFa,qBAGJS,EAHI,yBAGeU,GAChC,CACIlB,OAAQ,MACRC,QAAS,CACL,eAAgB,mBAChB,iBAAkBrC,aAAaU,QAAQ,UAE3C4B,KAAM3B,KAAKM,UAAU,CAAEJ,MAAOwC,EAAYH,GAASrC,UAdvC,OAiBD,MAjBC,OAiBZ2B,QACJa,EAAYH,GAAZ,2BACOG,EAAYH,IADnB,IAEIK,aAAcD,IAGlB9B,EAAY6B,IAEZX,MAAM,wBAzBU,2CAAH,sDAoErB,OAvCApC,IAAMS,WAAU,WACZc,GAAW,GACX,IAAM2B,EAAI,uCAAG,WAAOC,GAAP,eAAAzB,EAAA,sEACOE,MAAM,GAAD,OACdC,gDACH,CACIC,OAAQ,MACRC,QAAS,CACL,eAAgB,mBAChB,iBAAkBoB,KAPrB,UACLZ,EADK,OAWThB,GAAW,GACQ,MAAfgB,EAAIL,OAZC,iCAaOK,EAAIJ,OAbX,cAaLI,EAbK,iBAcCrB,EAAYqB,GAdb,gCAeiB,MAAfA,EAAIL,SACXxC,aAAaC,WAAW,SACxByC,MAAM,iBACN9C,EAAQ8D,QAAQ,WAlBX,4CAAH,sDAqBJD,EAAQzD,aAAaU,QAAQ,SAC/B+C,EACaE,IAAIC,OAAOH,GAMpBD,EAAKC,IAJLzD,aAAaC,WAAW,SACxB4B,GAAW,GACXjC,EAAQ8D,QAAQ,YAKpB7B,GAAW,GACXjC,EAAQ8D,QAAQ,aAErB,IAGC,sBAAK7D,UAAS,eAAUH,GAAY,YAApC,UACI,cAAC,EAAD,CACIF,KAhIA,WACRmC,GAAU,SAACkC,GAAD,OAAWA,MAgIbpE,OAAQA,EACRC,SAAUA,EACVC,YAAaA,EACbC,QAASA,IAEb,sBAAMC,UAAU,UAAhB,SACI,0BACIiE,KAAMrC,EAAS,EAAI,EACnBZ,MAAOQ,EACPtB,QApII,kBAAM2B,GAAU,IAqIpBqC,SAvIE,SAACC,GAAD,OAAO1C,EAAQ0C,EAAEC,OAAOpD,QAwI1BqD,OAAQnC,EACRoC,YAAY,wBAInB5C,GAAY,GACT,oBAAI1B,UAAS,qBAAgBJ,GAAU,KAAvC,SACK8B,EAAS6C,KAAI,SAACrB,GAAD,OACV,oBAEIlD,UAAS,sBAAiBJ,GAAU,KAFxC,SAII,sBAAKI,UAAS,qBAAgBJ,GAAU,KAAxC,UACI,sBAAMI,UAAWkD,EAAEQ,aAAe,QAAlC,SACKR,EAAElC,QAEP,uBAAMhB,UAAU,QAAhB,UACI,sBAAMA,UAAU,OAAhB,mBACQ,IAAIwE,KAAKtB,EAAEuB,MAAMC,oBAEzB,wBACI1E,UAAU,MACVE,QAAS,kBAAM4C,EAAaI,EAAEC,MAFlC,SAII,cAAC,IAAD,MAEJ,uBACInD,UAAU,MACV2E,KAAK,WACL5B,GAAG,YACH6B,QAAS1B,EAAEQ,YACXxD,QAAS,kBAAMkD,EAAgBF,EAAEC,eAtBxCD,EAAEC,UA6BnB,S,QCrHD0B,G,OA1ED,WACV,IAAI9E,EAAUgC,cACNC,EAAevB,IAAMwB,WAAWZ,GAAhCW,WACF8C,EAAY,uCAAG,WAAOX,GAAP,qBAAAhC,EAAA,6DACjBgC,EAAEY,iBACF/C,GAAW,GACLgD,EAAQb,EAAEC,OAAOY,MAAMhE,MACvBiE,EAAOd,EAAEC,OAAOc,SAASlE,MAJd,SAKDqB,MAAM,GAAD,OAAIC,gDAA6C,CAClEC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAM3B,KAAKM,UAAU,CAAE4D,MAAOA,EAAOE,SAAUD,MAVlC,UAYE,OAPfjC,EALa,QAYTL,OAZS,kCAaQK,EAAIJ,OAbZ,QAaTuC,EAbS,OAcbhF,aAAagB,QAAQ,QAASgE,EAASC,MACvCrF,EAAQM,KAAK,KAfA,wBAiBb2B,GAAW,GACXa,MAAM,8BAlBO,4CAAH,sDA2BlB,OANApC,IAAMS,WAAU,WACEf,aAAaU,QAAQ,UAE/Bd,EAAQ8D,QAAQ,OAErB,IAEC,sBAAK7D,UAAU,kBAAf,UACI,qBAAIA,UAAU,QAAd,0BACiB,sBAAMA,UAAU,OAAhB,4CAAwC,OAEzD,qBAAKA,UAAU,WACf,uBAAMqF,SAAUP,EAAhB,UACI,sBAAK9E,UAAU,cAAf,UACI,uBAAOsF,QAAQ,QAAQtF,UAAU,QAAjC,qCAGA,uBAAO2E,KAAK,QAAQY,KAAK,QAAQjB,YAAY,IAAIkB,UAAQ,IACzD,oBAAIxF,UAAU,kBACd,sBAAMA,UAAU,cAAhB,sBAEJ,sBAAKA,UAAU,cAAf,UACI,uBAAOsF,QAAQ,WAAWtF,UAAU,QAApC,wCAGA,uBACI2E,KAAK,WACLY,KAAK,WACLjB,YAAY,IACZmB,UAAU,IACVD,UAAQ,IAEZ,oBAAIxF,UAAU,kBACd,sBAAMA,UAAU,cAAhB,yBAEJ,iCACI,uBACI2E,KAAK,SACL3D,MAAM,QACNhB,UAAU,kBAGlB,cAAC,IAAD,CAAM0F,GAAG,YAAY1F,UAAU,OAA/B,4CC4BD2F,EA9FE,WACb,IAAI5F,EAAUgC,cACNC,EAAevB,IAAMwB,WAAWZ,GAAhCW,WACF8C,EAAY,uCAAG,WAAOX,GAAP,qBAAAhC,EAAA,6DACjBgC,EAAEY,iBACF/C,GAAW,GACLuD,EAAOpB,EAAEC,OAAOY,MAAMhE,MACtBgE,EAAQb,EAAEC,OAAOY,MAAMhE,MACvBiE,EAAOd,EAAEC,OAAOc,SAASlE,MALd,SAMDqB,MAAM,GAAD,OACdC,mDACH,CACIC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAM3B,KAAKM,UAAU,CACjBmE,KAAMA,EACNP,MAAOA,EACPE,SAAUD,MAhBL,OAMbjC,EANa,OAoBjBhB,GAAW,GACQ,MAAfgB,EAAIL,OACJ5C,EAAQM,KAAK,UAEbwC,MAAM,sBAxBO,4CAAH,sDAiClB,OANApC,IAAMS,WAAU,WACEf,aAAaU,QAAQ,UAE/Bd,EAAQ8D,QAAQ,OAErB,IAEC,sBAAK7D,UAAU,kBAAf,UACI,qBAAIA,UAAU,QAAd,+BACsB,sBAAMA,UAAU,OAAhB,4CAAwC,OAE9D,qBAAKA,UAAU,WACf,uBAAMqF,SAAUP,EAAhB,UACI,sBAAK9E,UAAU,cAAf,UACI,uBAAOsF,QAAQ,OAAOtF,UAAU,QAAhC,oCAGA,uBACI2E,KAAK,OACLY,KAAK,OACLjB,YAAY,IACZmB,UAAU,IACVD,UAAQ,IAEZ,oBAAIxF,UAAU,kBACd,sBAAMA,UAAU,cAAhB,qBAEJ,sBAAKA,UAAU,cAAf,UACI,uBAAOsF,QAAQ,QAAQtF,UAAU,QAAjC,qCAGA,uBAAO2E,KAAK,QAAQY,KAAK,QAAQjB,YAAY,IAAIkB,UAAQ,IACzD,oBAAIxF,UAAU,kBACd,sBAAMA,UAAU,cAAhB,sBAEJ,sBAAKA,UAAU,cAAf,UACI,uBAAOsF,QAAQ,WAAWtF,UAAU,QAApC,wCAGA,uBACI2E,KAAK,WACLY,KAAK,WACLjB,YAAY,IACZmB,UAAU,IACVD,UAAQ,IAEZ,oBAAIxF,UAAU,kBACd,sBAAMA,UAAU,cAAhB,yBAEJ,iCACI,uBACI2E,KAAK,SACL3D,MAAM,WACNhB,UAAU,kBAGlB,cAAC,IAAD,CAAM0F,GAAG,SAAS1F,UAAU,OAA5B,wCClFD4F,G,OAPC,WACZ,OACI,qBAAK5F,UAAU,oBAAf,SACI,sBAAMA,UAAU,gBCiBb6F,MAdf,WAAgB,IAAD,EACmBpF,IAAMC,UAAS,GADlC,mBACJoF,EADI,KACK9D,EADL,KAEX,OACI,eAACX,EAAY0E,SAAb,CAAsB/E,MAAO,CAAEgB,cAA/B,UACK8D,GAAW,cAAC,EAAD,IACZ,eAAC,IAAD,WACI,cAAC,IAAD,CAAOE,KAAK,SAASC,OAAK,EAACC,UAAWrB,IACtC,cAAC,IAAD,CAAOmB,KAAK,YAAYC,OAAK,EAACC,UAAWP,IACzC,cAAC,IAAD,CAAOK,KAAK,IAAIC,OAAK,EAACC,UAAW3E,WCXjD4E,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.8dcb2d70.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./index.scss\";\r\nimport {\r\n    RiLayoutGridLine,\r\n    RiLayoutRowLine,\r\n    RiSunLine,\r\n    RiSunFill,\r\n    RiLogoutCircleRLine,\r\n} from \"react-icons/ri\";\r\n\r\nconst Header = ({ layt, layout, darkMode, setDarkMode, history }) => {\r\n    return (\r\n        <header className=\"header\">\r\n            <img src=\"https://www.gstatic.com/images/branding/product/1x/keep_2020q4_48dp.png\" />\r\n            <p className=\"KC\">Keep clone</p>\r\n            <div className=\"layoutBtn\" onClick={() => layt()}>\r\n                {layout ? <RiLayoutRowLine /> : <RiLayoutGridLine />}\r\n            </div>\r\n            <div className=\"layoutBtn\" onClick={() => setDarkMode(!darkMode)}>\r\n                {darkMode ? <RiSunFill /> : <RiSunLine />}\r\n            </div>\r\n            <div\r\n                className=\"layoutBtn\"\r\n                onClick={() => {\r\n                    localStorage.removeItem(\"token\");\r\n                    history.push(\"/login\");\r\n                }}\r\n            >\r\n                <RiLogoutCircleRLine />\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nconst useStickyState = (defaultValue, key) => {\r\n    const [value, setValue] = React.useState(() => {\r\n        const stickyValue = window.localStorage.getItem(key);\r\n        return stickyValue !== null ? JSON.parse(stickyValue) : defaultValue;\r\n    });\r\n    React.useEffect(() => {\r\n        window.localStorage.setItem(key, JSON.stringify(value));\r\n    }, [key, value]);\r\n    return [value, setValue];\r\n};\r\nexport default useStickyState;\r\n","import { createContext } from \"react\";\r\nexport const LoadContext = createContext();\r\n","import React from \"react\";\r\nimport Header from \"../header\";\r\nimport useStickyState from \"../localState\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { LoadContext } from \"../context\";\r\nimport \"./index.scss\";\r\nimport { MdDelete } from \"react-icons/md\";\r\n\r\nconst Dashboard = () => {\r\n    const [todo, settodo] = React.useState(\"\");\r\n    const [todoList, settodoList] = React.useState([]);\r\n    const [expand, setexpand] = React.useState(false);\r\n    const [layout, setlayout] = useStickyState(true, \"layout\");\r\n    const [darkMode, setDarkMode] = useStickyState(false, \"dark-mode\");\r\n    const history = useHistory();\r\n    const { setLoading } = React.useContext(LoadContext);\r\n\r\n    const lay = () => {\r\n        setlayout((prev) => !prev);\r\n    };\r\n\r\n    const handleVal = (e) => settodo(e.target.value);\r\n\r\n    const handlexpand = () => setexpand(true);\r\n\r\n    const handleAdd = async () => {\r\n        if (todo != \"\") {\r\n            let details = {\r\n                value: todo,\r\n            };\r\n            setLoading(true);\r\n            let send = await fetch(\r\n                `${process.env.REACT_APP_BASE_URL + \"/notes\"}`,\r\n                {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        \"x-access-token\": localStorage.getItem(\"token\"),\r\n                    },\r\n                    body: JSON.stringify(details),\r\n                }\r\n            );\r\n            setLoading(false);\r\n            if (send.status === 200) {\r\n                details = await send.json();\r\n                settodoList([...todoList, details]);\r\n                settodo(\"\");\r\n                setexpand(false);\r\n            } else {\r\n                alert(\"something went wrong, try again!\");\r\n            }\r\n        } else setexpand(false);\r\n    };\r\n\r\n    const handleDelete = async (id) => {\r\n        setLoading(true);\r\n        let res = await fetch(\r\n            `${process.env.REACT_APP_BASE_URL}/notes?id=${id}`,\r\n            {\r\n                method: \"DELETE\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"x-access-token\": localStorage.getItem(\"token\"),\r\n                },\r\n            }\r\n        );\r\n        setLoading(false);\r\n        if (res.status === 200) {\r\n            settodoList(todoList.filter((t) => t._id != id));\r\n        } else {\r\n            alert(\"something went wrong\");\r\n        }\r\n    };\r\n\r\n    const handleCompleted = async (id) => {\r\n        const element = todoList.findIndex((elem) => elem._id === id);\r\n        const newtodoList = [...todoList];\r\n        let temp = newtodoList[element].isCompleted;\r\n        let res = await fetch(\r\n            `${\r\n                process.env.REACT_APP_BASE_URL\r\n            }/notes?id=${id}&isCompleted=${!temp}`,\r\n            {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"x-access-token\": localStorage.getItem(\"token\"),\r\n                },\r\n                body: JSON.stringify({ value: newtodoList[element].value }),\r\n            }\r\n        );\r\n        if (res.status === 200) {\r\n            newtodoList[element] = {\r\n                ...newtodoList[element],\r\n                isCompleted: !temp,\r\n            };\r\n\r\n            settodoList(newtodoList);\r\n        } else {\r\n            alert(\"something went wrong\");\r\n        }\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        setLoading(true);\r\n        const init = async (token) => {\r\n            let res = await fetch(\r\n                `${process.env.REACT_APP_BASE_URL + \"/notes\"}`,\r\n                {\r\n                    method: \"GET\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        \"x-access-token\": token,\r\n                    },\r\n                }\r\n            );\r\n            setLoading(false);\r\n            if (res.status === 200) {\r\n                res = await res.json();\r\n                await settodoList(res);\r\n            } else if (res.status === 401) {\r\n                localStorage.removeItem(\"token\");\r\n                alert(\"relogin again\");\r\n                history.replace(\"/login\");\r\n            }\r\n        };\r\n        const token = localStorage.getItem(\"token\");\r\n        if (token) {\r\n            const user = jwt.decode(token);\r\n            if (!user) {\r\n                localStorage.removeItem(\"token\");\r\n                setLoading(false);\r\n                history.replace(\"/login\");\r\n            } else {\r\n                init(token);\r\n            }\r\n        } else {\r\n            setLoading(false);\r\n            history.replace(\"/login\");\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div className={`main ${darkMode && \"darkMode\"}`}>\r\n            <Header\r\n                layt={lay}\r\n                layout={layout}\r\n                darkMode={darkMode}\r\n                setDarkMode={setDarkMode}\r\n                history={history}\r\n            />\r\n            <form className=\"addNote\">\r\n                <textarea\r\n                    rows={expand ? 3 : 1}\r\n                    value={todo}\r\n                    onClick={handlexpand}\r\n                    onChange={handleVal}\r\n                    onBlur={handleAdd}\r\n                    placeholder=\"Take your note...\"\r\n                />\r\n            </form>\r\n\r\n            {todoList != [] ? (\r\n                <ul className={`container ${!layout && \"f\"}`}>\r\n                    {todoList.map((t) => (\r\n                        <li\r\n                            key={t._id}\r\n                            className={`noteholder ${!layout && \"f\"}`}\r\n                        >\r\n                            <div className={`note-text ${!layout && \"f\"}`}>\r\n                                <span className={t.isCompleted && \"cross\"}>\r\n                                    {t.value}\r\n                                </span>\r\n                                <span className=\"tools\">\r\n                                    <span className=\"date\">\r\n                                        {`${new Date(t.date).toLocaleString()}`}\r\n                                    </span>\r\n                                    <button\r\n                                        className=\"btn\"\r\n                                        onClick={() => handleDelete(t._id)}\r\n                                    >\r\n                                        <MdDelete />\r\n                                    </button>\r\n                                    <input\r\n                                        className=\"btn\"\r\n                                        type=\"checkbox\"\r\n                                        id=\"completed\"\r\n                                        checked={t.isCompleted}\r\n                                        onClick={() => handleCompleted(t._id)}\r\n                                    />\r\n                                </span>\r\n                            </div>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            ) : null}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { LoadContext } from \"../context\";\r\nimport \"./index.scss\";\r\n\r\nconst Login = () => {\r\n    let history = useHistory();\r\n    const { setLoading } = React.useContext(LoadContext);\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        const email = e.target.email.value;\r\n        const pass = e.target.password.value;\r\n        let res = await fetch(`${process.env.REACT_APP_BASE_URL + \"/login\"}`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({ email: email, password: pass }),\r\n        });\r\n        if (res.status === 200) {\r\n            let response = await res.json();\r\n            localStorage.setItem(\"token\", response.user);\r\n            history.push(\"/\");\r\n        } else {\r\n            setLoading(false);\r\n            alert(\"wrong username or password\");\r\n        }\r\n    };\r\n    React.useEffect(() => {\r\n        const token = localStorage.getItem(\"token\");\r\n        if (token) {\r\n            history.replace(\"/\");\r\n        }\r\n    }, []);\r\n    return (\r\n        <div className=\"login-container\">\r\n            <h3 className=\"start\">\r\n                Let's set go <span className=\"high\">╰(*°▽°*)╯</span>{\" \"}\r\n            </h3>\r\n            <div className=\"avatar\" />\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"inp-content\">\r\n                    <label htmlFor=\"email\" className=\"label\">\r\n                        Please enter your email\r\n                    </label>\r\n                    <input type=\"email\" name=\"email\" placeholder=\" \" required />\r\n                    <hr className=\"border-bottom\" />\r\n                    <span className=\"placeholder\">email</span>\r\n                </div>\r\n                <div className=\"inp-content\">\r\n                    <label htmlFor=\"password\" className=\"label\">\r\n                        Please enter your password\r\n                    </label>\r\n                    <input\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        placeholder=\" \"\r\n                        minLength=\"6\"\r\n                        required\r\n                    />\r\n                    <hr className=\"border-bottom\" />\r\n                    <span className=\"placeholder\">password</span>\r\n                </div>\r\n                <center>\r\n                    <input\r\n                        type=\"submit\"\r\n                        value=\"Login\"\r\n                        className=\"form-button\"\r\n                    />\r\n                </center>\r\n                <Link to=\"/register\" className=\"link\">\r\n                    Click here to register\r\n                </Link>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { LoadContext } from \"../context\";\r\nimport \"../login/index.scss\";\r\n\r\nconst Register = () => {\r\n    let history = useHistory();\r\n    const { setLoading } = React.useContext(LoadContext);\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        const name = e.target.email.value;\r\n        const email = e.target.email.value;\r\n        const pass = e.target.password.value;\r\n        let res = await fetch(\r\n            `${process.env.REACT_APP_BASE_URL + \"/register\"}`,\r\n            {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify({\r\n                    name: name,\r\n                    email: email,\r\n                    password: pass,\r\n                }),\r\n            }\r\n        );\r\n        setLoading(false);\r\n        if (res.status === 200) {\r\n            history.push(\"/login\");\r\n        } else {\r\n            alert(\"user already exist\");\r\n        }\r\n    };\r\n    React.useEffect(() => {\r\n        const token = localStorage.getItem(\"token\");\r\n        if (token) {\r\n            history.replace(\"/\");\r\n        }\r\n    }, []);\r\n    return (\r\n        <div className=\"login-container\">\r\n            <h3 className=\"start\">\r\n                Let's get started <span className=\"high\">╰(*°▽°*)╯</span>{\" \"}\r\n            </h3>\r\n            <div className=\"avatar\" />\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"inp-content\">\r\n                    <label htmlFor=\"name\" className=\"label\">\r\n                        Please enter your name\r\n                    </label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        placeholder=\" \"\r\n                        minLength=\"3\"\r\n                        required\r\n                    />\r\n                    <hr className=\"border-bottom\" />\r\n                    <span className=\"placeholder\">name</span>\r\n                </div>\r\n                <div className=\"inp-content\">\r\n                    <label htmlFor=\"email\" className=\"label\">\r\n                        Please enter your email\r\n                    </label>\r\n                    <input type=\"email\" name=\"email\" placeholder=\" \" required />\r\n                    <hr className=\"border-bottom\" />\r\n                    <span className=\"placeholder\">email</span>\r\n                </div>\r\n                <div className=\"inp-content\">\r\n                    <label htmlFor=\"password\" className=\"label\">\r\n                        Please enter your password\r\n                    </label>\r\n                    <input\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        placeholder=\" \"\r\n                        minLength=\"6\"\r\n                        required\r\n                    />\r\n                    <hr className=\"border-bottom\" />\r\n                    <span className=\"placeholder\">password</span>\r\n                </div>\r\n                <center>\r\n                    <input\r\n                        type=\"submit\"\r\n                        value=\"Register\"\r\n                        className=\"form-button\"\r\n                    />\r\n                </center>\r\n                <Link to=\"/login\" className=\"link\">\r\n                    Click here to login\r\n                </Link>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Register;\r\n","import \"./index.scss\";\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className=\"loading-container\">\r\n            <span className=\"loading\" />\r\n        </div>\r\n    );\r\n};\r\nexport default Loading;\r\n","import React from \"react\";\r\nimport Dashboard from \"./components/dashboard\";\r\nimport Login from \"./components/login\";\r\nimport Register from \"./components/register\";\r\nimport { LoadContext } from \"./components/context\";\r\nimport Loading from \"./components/loading\";\r\nimport { HashRouter as Router, Route } from \"react-router-dom\";\r\n\r\nfunction App() {\r\n    const [loading, setLoading] = React.useState(false);\r\n    return (\r\n        <LoadContext.Provider value={{ setLoading }}>\r\n            {loading && <Loading />}\r\n            <Router>\r\n                <Route path=\"/login\" exact component={Login} />\r\n                <Route path=\"/register\" exact component={Register} />\r\n                <Route path=\"/\" exact component={Dashboard} />\r\n            </Router>\r\n        </LoadContext.Provider>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}